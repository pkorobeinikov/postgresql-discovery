<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Postgresql Discovery</title>
    <description>Блог о исследовании внутреннего устройства СУБД Postgresql.
</description>
    <link>http://pkorobeinikov.github.io/postgresql-discovery//</link>
    <atom:link href="http://pkorobeinikov.github.io/postgresql-discovery//feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 26 Aug 2015 22:55:27 +0300</pubDate>
    <lastBuildDate>Wed, 26 Aug 2015 22:55:27 +0300</lastBuildDate>
    <generator>Jekyll v2.5.3</generator>
    
      <item>
        <title>Получение исходного кода</title>
        <description>&lt;p&gt;Перед тем, как начать давайте договоримся о структуре каталогов в нашем рабочем пространстве.
Я предпочитаю организовывать своё рабочее пространство,
так чтобы каждый проект находился в собственном каталоге с доменным именем сайта проекта:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;...
├── memcached.org
│   ├── build
│   └── memcached
├── nginx.org
│   ├── build
│   ├── nginx
│   └── nginx-tests
├── postgresql.org
│   ├── build       &lt;span class=&quot;c&quot;&gt;# --prefix сборки&lt;/span&gt;
│   ├── data        &lt;span class=&quot;c&quot;&gt;# тестовые базы данных&lt;/span&gt;
│   ├── postgresql  &lt;span class=&quot;c&quot;&gt;# рабочая копия&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Прежде всего нам понадобится рабочая копия репозитория с исходными кодами Postgresql.
Репозиторий весит 420 мегабайт, поэтому наберитесь терпения — git потребует какое-то время для клонирования.&lt;/p&gt;

&lt;p&gt;Можно ускорить получение рабочей копии, указав параметр &lt;code&gt;--depth 1&lt;/code&gt; команды &lt;code&gt;git clone&lt;/code&gt;. Затем, когда появится время и возможность, выполнить &lt;code&gt;git fetch --unshallow&lt;/code&gt; и получить все оставшиеся коммиты.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;gt; git clone git://git.postgresql.org/git/postgresql.git
&lt;span class=&quot;c&quot;&gt;# или зеркало на github.com:&lt;/span&gt;
&amp;gt; git clone git@github.com:postgres/postgres.git&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Что нас ждёт внтури? Я прокомментировал содержимое трех, пожалуй, самых важных каталогов.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;gt; tree -d -L &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; src/ doc/ contrib/
src/
├── backend     &lt;span class=&quot;c&quot;&gt;# Исходный код самого сервера postgresql&lt;/span&gt;
├── bin         &lt;span class=&quot;c&quot;&gt;# Исходный код утилит: initdb, pg_ctl, psql и пр.&lt;/span&gt;
├── common      &lt;span class=&quot;c&quot;&gt;# Общие функции, их немного и они довольно обобщённые&lt;/span&gt;
├── include     &lt;span class=&quot;c&quot;&gt;# *.h-файлы&lt;/span&gt;
├── interfaces  &lt;span class=&quot;c&quot;&gt;# Исходный код ECPG и libpq&lt;/span&gt;
├── makefiles   &lt;span class=&quot;c&quot;&gt;# Системно-зависимые makefile&amp;#39;ы&lt;/span&gt;
├── pl          &lt;span class=&quot;c&quot;&gt;# Хэндлеры pl-языков&lt;/span&gt;
├── port        &lt;span class=&quot;c&quot;&gt;# Много кода для поддержки Windows&lt;/span&gt;
├── template    &lt;span class=&quot;c&quot;&gt;# Системно-зависимые параметры&lt;/span&gt;
├── &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;        &lt;span class=&quot;c&quot;&gt;# Тесты&lt;/span&gt;
├── timezone    &lt;span class=&quot;c&quot;&gt;# Адаптированная версия timezone&lt;/span&gt;
├── tools       &lt;span class=&quot;c&quot;&gt;# Различные инструменты разработчика&lt;/span&gt;
└── tutorial    &lt;span class=&quot;c&quot;&gt;# Примеры расширений на C и туториал по SQL&lt;/span&gt;
doc/
└── src         &lt;span class=&quot;c&quot;&gt;# Исходники документации в формате docbook&lt;/span&gt;
contrib/        &lt;span class=&quot;c&quot;&gt;# Пользовательские расширения&lt;/span&gt;
├── adminpack
├── auth_delay
...
├── vacuumlo
└── xml2

&lt;span class=&quot;m&quot;&gt;63&lt;/span&gt; directories&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;В каталоге &lt;code&gt;contrib/&lt;/code&gt; на данный момент надодится 49 расширений:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ls -d contrib/*/ &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; wc -l&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Загляните в документацию&lt;sup id=&quot;fnref:doc&quot;&gt;&lt;a href=&quot;#fn:doc&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;,
чтобы подробнее узнать о назначении этих модулей.&lt;/p&gt;

&lt;hr /&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:doc&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://www.postgresql.org/docs/devel/static/contrib.html&quot;&gt;Документация по contrib-модулям&lt;/a&gt; &lt;a href=&quot;#fnref:doc&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 27 Aug 2015 01:43:12 +0300</pubDate>
        <link>http://pkorobeinikov.github.io/postgresql-discovery//2015/08/27/getting-postgresql-source-code.html</link>
        <guid isPermaLink="true">http://pkorobeinikov.github.io/postgresql-discovery//2015/08/27/getting-postgresql-source-code.html</guid>
        
        
      </item>
    
      <item>
        <title>Добро пожаловать в Postgresql&amp;nbsp;Discovery</title>
        <description>&lt;p&gt;Этот блог посвящен внутреннему устройству открытой СУБД Postgresql.
Он будет интересен разработчикам, студентам и, возможно, администраторам баз данных
желающим взглянуть, что находится под капотом системы управления базами данных.&lt;/p&gt;

&lt;p&gt;Предполагается, что читатель
уверенно чувствует себя при работе с командной строкой,
способен понимать код на языке C,
знаком с процессом компиляции и отладки программ в Unix-подобных ОС.&lt;/p&gt;

&lt;p&gt;Для выполнения примеров потребуется компьютер с Linux, Mac OS X или BSD-системой.
Работоспособность примеров на Windows не гарантируется.&lt;/p&gt;

&lt;p&gt;Выберите себе удобную среду разработки для просмотра исходных кодов.
Это может быть Eclipse CDT или Netbeans C++.
Если хорошо знаете vim+ctags — выбирайте его.
Современные редакторы, такие как Atom и Sublime Text, тоже прекрасно подойдут для работы с исходными кодами.&lt;/p&gt;

&lt;p&gt;Какими источниками информации пользоваться?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Список рассылки pgsql-hackers&lt;sup id=&quot;fnref:hackers&quot;&gt;&lt;a href=&quot;#fn:hackers&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; — здесь общаются те,
кто разрабатывает Postgresql.&lt;/li&gt;
  &lt;li&gt;В wiki&lt;sup id=&quot;fnref:wiki&quot;&gt;&lt;a href=&quot;#fn:wiki&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; можно найти много полезной информации о процессе разработки.&lt;/li&gt;
  &lt;li&gt;Документация&lt;sup id=&quot;fnref:doc&quot;&gt;&lt;a href=&quot;#fn:doc&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; — этот то, что надо прочитать.
От начала и до конца.&lt;/li&gt;
  &lt;li&gt;man — в процессе исследования исходников часто удобно заглядывать в &lt;code&gt;man&lt;/code&gt;.
Узнайте, в каком разделе мануала находится описание системных функций на вашей ОС и не стесняйтесь спрашивать его,
что делает та или иная функция, например: &lt;code&gt;man 3 printf&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:hackers&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://www.postgresql.org/list/pgsql-hackers/&quot;&gt;Список рассылки pgsql-hackers&lt;/a&gt; &lt;a href=&quot;#fnref:hackers&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:wiki&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://wiki.postgresql.org/wiki/Main_Page&quot;&gt;Wiki&lt;/a&gt; &lt;a href=&quot;#fnref:wiki&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:doc&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://www.postgresql.org/docs/devel/static/index.html&quot;&gt;Документация&lt;/a&gt; &lt;a href=&quot;#fnref:doc&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 27 Aug 2015 01:40:27 +0300</pubDate>
        <link>http://pkorobeinikov.github.io/postgresql-discovery//2015/08/27/welcome-to-postgresql-discovery.html</link>
        <guid isPermaLink="true">http://pkorobeinikov.github.io/postgresql-discovery//2015/08/27/welcome-to-postgresql-discovery.html</guid>
        
        
      </item>
    
  </channel>
</rss>
